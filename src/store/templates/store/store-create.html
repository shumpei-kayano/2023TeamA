{% load static %}

{% block contents %}

<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
    {% block title %}店舗の新規登録ページ{% endblock %}
    </title>
    <link rel="stylesheet" href="{% static 'store/css/style.css' %}" />
    </head>

    <body>
        <div class="pass-container">
            <div class="ue-title">
                <div class="ue-text">店舗の新規会員登録</div>
            </div>


            <div class="store-create-main">
                <div class="store-create-title">
                    <div class="nakami-text">※店舗の新規会員登録を行います。以下の項目を入力してください。</div>
                </div>

                <div class="store-create-container">
                    <form action="#">

                        <div class="store-create-box" style="border-top: 1px solid var(--color-gainsboro-100);">
                            <div class="store-create-box-title">
                                <div class="store-title-text">店舗名</div>
                            </div>
                            <div class="store-create-box-input">
                                <input type="text" class="store-create-input-active" placeholder="店舗名を入力してください" required/>
                            </div>
                        </div>

                        <div class="store-create-box">
                            <div class="store-create-box-title">
                                <div class="store-title-text">店舗責任者名</div>
                            </div>
                            <div class="store-create-box-input">
                                <input type="text" class="store-create-input-active" placeholder="店舗責任者名を入力してください" required/>
                            </div>
                        </div>

                        <div class="store-create-box">
                            <div class="store-create-box-title">
                                <div class="store-title-text">店舗責任者名(フリガナ)</div>
                            </div>
                            <div class="store-create-box-input">
                                <input type="text" class="store-create-input-active" placeholder="店舗責任者名（フリガナ）を入力してください" required/>
                            </div>
                        </div>

                        <div class="store-create-box">
                            <div class="store-create-box-title">
                                <div class="store-title-text">郵便番号(半角数字)</div>
                            </div>
                            <div class="store-create-box-input">
                                <input type="text" class="store-create-input-active" placeholder="郵便番号（半角数字）を入力してください（ハイフン不要）" required/>
                            </div>
                        </div>

                        <div class="store-create-box">
                            <div class="store-create-box-title">
                                <div class="store-title-text">所在地</div>
                            </div>
                            <div class="store-create-box-input">
                                <input type="text" class="store-create-input-active" placeholder="所在地を入力してください" required/>
                            </div>
                        </div>

                        <div class="store-create-box">
                            <div class="store-create-box-title">
                                <div class="store-title-text">電話番号(半角数字)</div>
                            </div>
                            <div class="store-create-box-input">
                                <input type="text" class="store-create-input-active" placeholder="電話番号（半角数字）を入力してください（ハイフン不要）" required/>
                            </div>
                        </div>

                        <div class="store-create-box">
                            <div class="store-create-box-title">
                                <div class="store-title-text">メールアドレス</div>
                            </div>
                            <div class="store-create-box-input">
                                <input type="text" class="store-create-input-active" placeholder="メールアドレスを入力してください（半角）" required/>
                            </div>
                        </div>

                        <div class="store-create-box">
                            <div class="store-create-box-title">
                                <div class="store-title-text">パスワード</div>
                            </div>
                            <div class="store-create-box-input">
                                <input type="text" class="store-create-input-active" placeholder="パスワードを入力してください（半角）" required/>
                            </div>
                        </div>

                        <div class="store-create-box">
                            <div class="store-create-box-title">
                                <div class="store-title-text">WebサイトのURL</div>
                            </div>
                            <div class="store-create-box-input">
                                <input type="text" class="store-create-input-active" placeholder="WebサイトのURLがある場合は入力してください（半角）">
                            </div>
                        </div>

                        <div class="store-create-button">
                            <a href="store-info-edit" class="btn-store-create" style="color: #FFF;">確認して登録する</a>
                        </div>

                    </form>
                </div>
            </div>

            <div id="myModal" class="modal">
                <div class="store-modal-content">
                    <span class="close">&times;</span>
                    <div id="modal-content-display"></div>
                    <div class="store-modal-btn">
                        <button class="btn-modal-edit">修正する</button>
                        <button class="btn-modal-confirm">店舗を登録する</button>
                    </div>
                </div>
            </div>
          
            <script>
            // モーダルに入力内容を表示する関数
            function displayModal() {
                // 指定されたクラスの全てのinput要素を取得
                const inputs = document.querySelectorAll('.store-create-input-active');
            
                // モーダルと表示領域を取得
                const modal = document.getElementById('myModal');
                const modalContent = document.getElementById('modal-content-display');
            
                // 入力値を表示するためのHTMLコンテンツを作成
                let content = '<div class="modal-title-store">店舗の新規登録確認画面</div><div class="store-modal-ul"><ul>';
            
                inputs.forEach(input => {
                    content += `<div class="store-modal-li"><li><div class="store-modal-li-hidari">${input.parentElement.previousElementSibling.querySelector('.store-title-text').textContent}</div> <div class="store-modal-li-migi">${input.value}</div></li></div>`;
                });
            
                content += '</ul></div>';
            
                // モーダルに内容を表示
                modalContent.innerHTML = content;
            
                // モーダルを表示
                modal.style.display = 'block';
            
                // モーダルを閉じる処理（×ボタン）
                const closeButton = document.querySelector('.close');
                closeButton.addEventListener('click', function() {
                    modal.style.display = 'none';
                });
            
                // モーダルをクリックした際に閉じる処理
                window.addEventListener('click', function(event) {
                    if (event.target == modal) {
                    modal.style.display = 'none';
                    }
                });
            }
        
            // ボタンクリックで関数を実行
            const confirmButton = document.querySelector('.btn-store-create');
            confirmButton.addEventListener('click', function(event) {
            event.preventDefault(); // フォームのデフォルトの送信を防ぐ
            displayModal(); // 入力値を表示する関数を呼び出す
            });

            // 修正するボタンをクリックした際の処理
            const editButton = document.querySelector('.btn-modal-edit');
            editButton.addEventListener('click', function() {
                const modal = document.getElementById('myModal');
                modal.style.display = 'none'; // モーダルを非表示にする
            });

            // 店舗を登録するボタンをクリックした際の処理
            const confirmModalButton = document.querySelector('.btn-modal-confirm');
            confirmModalButton.addEventListener('click', function() {
                const modal = document.getElementById('myModal');
                modal.style.display = 'none'; // モーダルを非表示にする
                alert('店舗の新規登録が完了しました！'); // アラートを表示
                window.location.href = 'store-info'; // store-info.htmlに遷移
            });
            </script>

        </div>
    </body>
</html>

{% endblock %}